import { Component, Input, ViewChildren, QueryList } from '@angular/core';

@Component({
	selector: 'category',
	templateUrl: './category.component.html',
	styleUrls: ['./category.component.css']
})

export class CategoryComponent {
	@Input('title') title;
	@Input('malware') malware;
	@Input('visible') visible;
	@Input('collapsed') collapsed;
	// @ViewChildren('malware') childComponents: QueryList<MalwareComponent>;

	ngAfterViewInit(): void {
		// this.childComponents.changes.subscribe(() => console.log(this.childComponents));
		console.log(this.malware)
		console.log(this.malwareKeys())
		console.log(this.malware[this.malwareKeys()[0]])
	}

	malwareKeys = () => {
		if(this.malware)
			return Object.keys(this.malware)
		else
			return [];
	};

	toggleVisible = () => {
		this.visible = !this.visible;
	}

	toggleCollapsed = () => {
		console.log('toggle collapsed')
		this.collapsed = !this.collapsed;
	}
}
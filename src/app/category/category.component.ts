import { Component, Input, ViewChildren, QueryList  } from '@angular/core';

@Component({
  selector: 'app-category',
  templateUrl: './category.component.html',
  styleUrls: ['./category.component.css']
})
export class CategoryComponent implements OnInit {
	@Input('title') title;
	@Input('malware') malware;
	@Input('visible') visible;
	@Input('collapsed') collapsed;
	@ViewChildren('malware') childComponents: QueryList<TreeItemComponent>;
	levels = [];

	ngAfterViewInit(): void {
    	this.childComponents.changes.subscribe(() => console.log(this.childComponents));
    	console.log(this.childComponents)
	}

	childrenKeys = () => {
		if(this.children)
			return Object.keys(this.children)
		else
			return [];
	};

	toggleVisible = () => {
		this.visible = !this.visible;
	}

	toggleCollapsed = () => {
		console.log('toggle collapsed')
		this.collapsed = !this.collapsed;
	}
}

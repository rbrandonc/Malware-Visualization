<!-- Map -->
<agm-map id='map'
  [latitude]='lat' 
  [longitude]='lng'
  [styles]='theme'
  [zoom]='3'>

<!-- User Location Marker -->
  <agm-marker [latitude]='lat' [longitude]='lng' [iconUrl]='locationIcon'></agm-marker>

  <!-- Malware Locations -->
  <ng-container *ngFor='let cat of categoryKeys()'>
    <agm-marker *ngFor='let mal of malwareKeys(cat)'
      [latitude]='malware[cat][mal].lat'
      [longitude]='malware[cat][mal].lng'
      [iconUrl]='mapImageUrl'
      [visible]='mal.visible'>
    </agm-marker>
  </ng-container>
</agm-map>


<!-- Information Pane -->
<div id='infoContainer' class='columns'>
  <div class='column' id='spacer'></div>
  <div class='column is-1 fade'></div>
<!-- Display Toggle -->
  <div *ngIf='showInfoWindow' class='arrow column is-1 darkpaper' 
    (click)='toggleInfo()'><span>></span></div>

  <div *ngIf='!showInfoWindow' class='arrow column is-1 darkpaper'
    (click)='toggleInfo()'><span><</span></div>

<!-- Actual Info Pane -->
  <div id='info' class='column is-3 darkpaper' *ngIf='showInfoWindow'>
    
    <div id='stats' class='columns'>
      <div class=column is-12></div>
    </div>

    <div id='malwareList' class='columns'>
      <div class='column is-12'>
        <ng-container *ngFor='let key of categoryKeys()'>
        <category
          [title]='key'
          [(malware)]='malware[key]'
          [collapsed]='false'>
        </category>
      </ng-container>
      </div>
    </div>

  </div>
</div>
